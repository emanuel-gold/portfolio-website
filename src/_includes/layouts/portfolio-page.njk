---
layout: layouts/base.njk
---
{% import "components/icons.njk" as icons %}
{% include "components/header.njk" %}
<main class="py-14 sm:pt-16">
  {% set projects = collections.portfolio | sortByOrderThenDate %}
  {% set featuredProjects = collections.featuredPortfolio | default([]) | sortByOrderThenDate %}
  {% set allTags = projects | allTags %}
  <section id="projects" class="scroll-mt-24">
    <div class="mx-auto w-full max-w-4xl px-4 sm:px-6 lg:px-8">
      <div class="mb-10">
        <h2 class="text-3xl font-bold tracking-tight sm:text-4xl">Portfolio</h2>
      </div>

      <div class="mb-8 flex flex-col justify-between gap-3 sm:flex-row sm:items-center">
        <div class="flex flex-wrap items-center gap-2" data-tag-list>
          <button
            class="rounded-full border border-transparent bg-gray-900 px-3 py-1 text-sm text-white transition dark:bg-white dark:text-gray-900"
            data-badge="All"
            type="button"
          >
            All
          </button>
          {% for tag in allTags %}
            <button
              class="rounded-full border px-3 py-1 text-sm transition dark:hover:bg-gray-800"
              data-badge="{{ tag }}"
              type="button"
            >
              {{ tag }}
            </button>
          {% endfor %}
        </div>
        <input
          class="w-full rounded-xl border bg-gray-200 px-4 py-2 shadow-sm placeholder:opacity-60 focus:outline-none focus:ring dark:border-gray-800 dark:bg-gray-900 sm:w-64"
          type="search"
          placeholder="Search projects..."
          data-search-input
        />
      </div>
      <div class="grid grid-cols-1 gap-10" data-project-grid data-show-featured-only="false">
        {% for project in featuredProjects %}
          <article
            class="featured group flex flex-row rounded-2xl border overflow-hidden shadow-md transition dark:border-brand-dark-shadow/45 hover:shadow-lg"
            data-project
            data-tags="{{ project.data.tags | default([]) | join(',') }}"
            data-featured="true"
          >
            {% if project.data.thumbnail %}
              <div class="flex flex-[0_0_130px] sm:flex-[0_0_167.7px]">
                <img class="object-cover" src="{{ project.data.thumbnail }}">
              </div>
            {% endif %}
            <div class="flex flex-col flex-auto p-5 bg-white dark:bg-gray-950">
              <div class="mb-3 flex items-center justify-between">
                <h3 class="text-lg font-semibold leading-tight">
                  <a href="{{ project.url }}" class="hover:text-fuchsia-500 hover:underline">{{ project.data.title }}</a>
                </h3>
                <span class="text-xs opacity-60">{{ project.data.period }}</span>
              </div>

              <p class="mb-4 text-sm opacity-90">{{ project.data.blurb | safe }}</p>
              <div class="mb-4 flex flex-wrap gap-2">
                {% for tag in project.data.tags %}
                  <span class="rounded-full border px-2 py-0.5 text-xs opacity-80 dark:border-gray-800">{{ tag }}</span>
                {% endfor %}
              </div>
              <div class="flex items-center mt-auto gap-3">
                {% if project.data.links.preview %}
                  <a href="{{ project.data.links.preview }}" class="inline-flex items-center gap-1 text-sm font-medium hover:underline">
                    {{ icons.external_link('w-4 h-4') }} Preview
                  </a>
                {% endif %}
                {% if project.data.links.repo %}
                  <a href="{{ project.data.links.repo }}" class="inline-flex items-center gap-1 text-sm font-medium hover:underline">
                    {{ icons.github('w-4 h-4') }} Code
                  </a>
                {% endif %}
                <a href="{{ project.url }}" class="inline-flex items-center gap-1 text-sm font-medium hover:underline">
                  {{ icons.file_text('w-4 h-4') }} Read case study
                </a>
              </div>
            </div>
          </article>
        {% endfor %}
        {% for project in projects %}
          {% if project not in featuredProjects %}
            <article
              class="group flex flex-row rounded-2xl border overflow-hidden shadow-md transition dark:border-brand-dark-shadow/45 hover:shadow-lg"
              data-project
              data-tags="{{ project.data.tags | default([]) | join(',') }}"
              data-featured="false"
            >
              {% if project.data.thumbnail %}
                <div class="flex flex-[0_0_130px] sm:flex-[0_0_167.7px]">
                  <img class="object-cover" src="{{ project.data.thumbnail }}">
                </div>
              {% endif %}
              <div class="flex flex-col flex-auto p-5 bg-white dark:bg-gray-950">
                <div class="mb-3 flex items-center justify-between">
                  <h3 class="text-lg font-semibold leading-tight">
                    <a href="{{ project.url }}" class="hover:text-fuchsia-500 hover:underline">{{ project.data.title }}</a>
                  </h3>
                  <span class="text-xs opacity-60">{{ project.data.period }}</span>
                </div>

                <p class="mb-4 text-sm opacity-90">{{ project.data.blurb | safe }}</p>
                <div class="mb-4 flex flex-wrap gap-2">
                  {% for tag in project.data.tags %}
                    <span class="rounded-full border px-2 py-0.5 text-xs opacity-80 dark:border-gray-800">{{ tag }}</span>
                  {% endfor %}
                </div>
                <div class="flex items-center mt-auto gap-3">
                  {% if project.data.links.preview %}
                    <a href="{{ project.data.links.preview }}" class="inline-flex items-center gap-1 text-sm font-medium hover:underline">
                      {{ icons.external_link('w-4 h-4') }} Preview
                    </a>
                  {% endif %}
                  {% if project.data.links.repo %}
                    <a href="{{ project.data.links.repo }}" class="inline-flex items-center gap-1 text-sm font-medium hover:underline">
                      {{ icons.github('w-4 h-4') }} Code
                    </a>
                  {% endif %}
                  <a href="{{ project.url }}" class="inline-flex items-center gap-1 text-sm font-medium hover:underline">
                    {{ icons.file_text('w-4 h-4') }} Read case study
                  </a>
                </div>
              </div>
            </article>
          {% endif %}
        {% endfor %}
      </div>
      <p class="hidden py-8 text-center opacity-70" data-empty-state>No projects match that search.</p>
    </div>
  </section>
</main>
{% include "components/contact.njk" %}
{% include "components/footer.njk" %}
