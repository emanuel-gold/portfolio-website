{% import "components/icons.njk" as icons %}
<header class="sticky top-0 z-40">
<div class="border-b bg-white/70 backdrop-blur dark:border-gray-800 dark:bg-gray-950/70">
  <div class="mx-auto w-full max-w-6xl px-5 sm:px-8">
    <div class="flex items-center justify-between py-3">
      <a href="/" id="siteLogo" class="flex items-center gap-2 text-xl" data-scroll>
        <span class="inline-block h-3 w-3 rounded-full brand-gradient-diagonal"></span>
        <span>{{ site.meta.siteName }}</span>
      </a>

      <nav class="hidden gap-6 md:gap-16 md:flex {#-md:w-[45vw]#} max-w-lg justify-between">
        {% for item in site.navigation %}
          <a href="{{ item.url }}" class="opacity-80 hover:opacity-100 hover:underline" data-scroll>{{ item.label }}</a>
        {% endfor %}
      </nav>

      <div class="flex items-center gap-2">
        <a
          href="{{ site.resume.url }}"
          class="hidden rounded-full border px-3 py-1 text-sm hover:bg-gray-100 dark:hover:bg-gray-800 md:inline-block"
          title="Download resume"
          target="_blank"
        >
          <span class="inline-flex items-center gap-2">{{ icons.file_text('w-4 h-4') }}Resume</span>
        </a>
        <button
          class="rounded-full border p-2 hover:bg-gray-100 dark:hover:bg-gray-800"
          aria-label="Toggle theme"
          data-theme-toggle
          type="button"
        >
          <span data-theme-icon="dark" class="hidden">{{ icons.sun('w-4 h-4') }}</span>
          <span data-theme-icon="light" class="hidden">{{ icons.moon('w-4 h-4') }}</span>
        </button>
        <button
          class="rounded-full border p-2 hover:bg-gray-100 dark:hover:bg-gray-800 md:hidden"
          aria-label="Toggle menu"
          aria-expanded="false"
          aria-controls="mobile-menu"
          data-mobile-toggle
          type="button"
        >
          <span data-menu-icon="closed">{{ icons.menu('w-4 h-4') }}</span>
          <span data-menu-icon="open" class="hidden">{{ icons.x('w-4 h-4') }}</span>
        </button>
      </div>
    </div>
  </div>

  <div class="md:hidden">
    <div
      id="mobile-menu"
      class="pointer-events-none absolute left-0 right-0 top-full z-50 opacity-0 transition"
      data-mobile-panel
      hidden
    >
      <div class="mx-auto mt-2 w-full max-w-6xl px-4 sm:px-6 lg:px-8">
        <div class="rounded-2xl border bg-white p-3 shadow-lg dark:border-gray-800 dark:bg-gray-950">
          <div class="flex flex-col gap-1">
            {% for item in site.navigation %}
              <a
                href="{{ item.url }}"
                class="rounded-lg px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-900"
                data-scroll
                data-mobile-link
              >
                {{ item.label }}
              </a>
            {% endfor %}
            <a
              href="{{ site.resume.url }}"
              class="mt-1 inline-flex items-center gap-2 rounded-lg border px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-900"
              target="_blank"
            >
              {{ icons.file_text('w-4 h-4') }} Resume
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% if pageType == "post" %}
  {% include "partials/progress-bar.njk" %}
{% endif %}
</header>